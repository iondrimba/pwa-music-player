(this["webpackJsonppwa-playlist"]=this["webpackJsonppwa-playlist"]||[]).push([[0],[,,,,,,,,,function(e,t,n){"use strict";var a=n(1),r=n(2),i=n(4),c=n(3),o=n(5),l=n(0),s=n.n(l),u=(n(26),function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.tabEnabled!==this.props.tabEnabled||e.className!==this.props.className}},{key:"render",value:function(){return s.a.createElement("button",{type:"button",tabIndex:this.props.tabEnabled?"0":"-1",name:this.props.label,"aria-label":this.props.label,className:"icon-button ".concat(this.props.className),onClick:this.props.onClick},this.props.icon)}}]),t}(l.Component));t.a=u},function(e,t,n){"use strict";function a(e){return new Promise((function(t){return setTimeout(t,e)}))}n.d(t,"a",(function(){return a}))},,,function(e,t,n){"use strict";var a=n(1),r=n(2),i=n(4),c=n(3),o=n(5),l=n(0),s=n.n(l),u=(n(24),function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.active!==this.props.active||e.tabEnabled!==this.props.tabEnabled}},{key:"render",value:function(){return s.a.createElement("button",{type:"button",tabIndex:this.props.tabEnabled?"0":"-1","aria-label":this.props.name,className:"".concat(this.props.className||""," media-button ").concat(this.props.active?"media-button--active":""),onClick:this.props.onClick},this.props.icon)}}]),t}(l.Component));t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=r.a.createElement("path",{d:"M113.956 57.006l-97.4-56.2c-4-2.3-9 .6-9 5.2v112.5c0 4.6 5 7.5 9 5.2l97.4-56.2c4-2.401 4-8.2 0-10.5z"}),l=function(e){var t=e.svgRef,n=e.title,a=c(e,["svgRef","title"]);return r.a.createElement("svg",i({viewBox:"0 0 124 124",ref:t},a),n?r.a.createElement("title",null,n):null,o)},s=r.a.forwardRef((function(e,t){return r.a.createElement(l,i({svgRef:t},e))}));n.p},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(7),r=[{label:"Design inspired by",link:"https://dribbble.com/shots/3000629-Music-Player-Sketch-Freebie",author:"Armas Nurbahari"},{label:"Songs API by",link:"https://developers.soundcloud.com/docs/api",author:"Soundcloud"},{label:"Pause icon by",link:"https://www.flaticon.com/authors/smashicons",author:"Smashicons"},{label:"Left arrow icon by",link:"https://www.flaticon.com/authors/lucy-g",author:"Lucy G"},{label:"Play arrow icon by",link:"https://www.freepik.com/",author:"Freepik"},{label:"Help icon by",link:"https://www.flaticon.com/authors/anton-saputro",author:"Anton Saputro"},{label:"Close icon by",link:"https://www.flaticon.com/authors/chanut",author:"Chanut"},{label:"Repeat icon by",link:"https://www.flaticon.com/free-icon/repeat-arrows_16720#term=repeat&page=1&position=81",author:"Freepik"},{label:"Link icon by",link:"https://www.flaticon.com/free-icon/link_455691#term=link&page=1&position=17",author:"Creaticca Creative Agency"},{label:"Headphones icon by",link:"https://www.flaticon.com/free-icon/headphones_1288446",author:"Surang"}],i={tracks:Object(a.a)(Object(a.a)(new Array(10)).map((function(e,t){return{id:t,title:"loading...",artist:"loading..."}}))),previousView:"/",currentView:"",repeat:!1,changingTrack:!1,track:{currentTime:0,percentage:0,paused:!0,played:!1,playing:!1,artwork_url:""}}},,,function(e,t,n){e.exports=n(31)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),c=n.n(i),o=n(7),l=n(6),s=n(8),u=n.n(s),p=n(1),h=n(2),f=n(4),d=n(3),v=n(5),m=n(17),b=n(13);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var w=r.a.createElement("path",{d:"M107.582 336.852l-27.578-13.786v-27.054c0-4.426-3.582-8-8-8h-8v-56c0-42.305 13.953-82.074 40.351-114.992l-12.484-10.016C63.59 142.289 48.004 186.69 48.004 232.012v56h-16v-56c0-54.504 20.36-106.563 57.336-146.57L77.59 74.585c-39.711 42.969-61.586 98.879-61.586 157.426v57.468c-9.285 3.313-16 12.114-16 22.532v160c0 13.23 10.77 24 24 24h48c4.418 0 8-3.578 8-8v-27.059l27.578-13.789a7.993 7.993 0 0 0 4.422-7.152v-96c0-3.035-1.711-5.801-4.422-7.16zm-91.578 18.472l1.379 1.375c9.43 9.438 14.62 21.977 14.62 35.313 0 13.336-5.19 25.87-14.62 35.312l-1.38 1.375zm48 124.688h-40c-4.406 0-8-3.586-8-8v-20.688l12.687-12.691c12.457-12.453 19.313-29.016 19.313-46.621 0-17.61-6.856-34.168-19.313-46.625l-12.687-12.688v-20.687c0-4.418 3.594-8 8-8h40zm32-44.946l-16 8V340.953l16 8zm0 0M480.004 289.48v-57.468c0-47.633-14.328-93.403-41.43-132.352l-13.137 9.14c25.231 36.259 38.567 78.868 38.567 123.212v56h-16v-56c0-31.856-7.672-63.555-22.2-91.672l-14.214 7.344c13.55 26.222 20.414 54.59 20.414 84.328v56h-8c-4.414 0-8 3.574-8 8v27.054L388.43 336.86a7.988 7.988 0 0 0-4.426 7.153v96a8.017 8.017 0 0 0 4.426 7.16l27.574 13.781v27.059a8 8 0 0 0 8 8h48c13.234 0 24-10.77 24-24v-160c0-10.418-6.711-19.219-16-22.532zm-80 145.586v-86.113l16-8v102.113zm72 44.946h-40v-176h40c4.41 0 8 3.582 8 8v20.687l-12.688 12.688c-12.457 12.457-19.312 29.015-19.312 46.625 0 17.605 6.855 34.168 19.312 46.62l12.688 12.692v20.688c0 4.414-3.59 8-8 8zm8-124.688V428.7l-1.375-1.375c-9.434-9.441-14.625-21.976-14.625-35.312 0-13.336 5.191-25.875 14.625-35.313zm0 0M248.004 16.012c44.434 0 87.113 13.383 123.426 38.71l9.16-13.128C341.574 14.394 295.727.012 248.004.012c-22.55 0-44.848 3.23-66.277 9.597l4.558 15.336c19.945-5.925 40.711-8.933 61.719-8.933zm0 0"}),g=r.a.createElement("path",{d:"M198.012 38.305l3.984 15.504c14.953-3.848 30.434-5.797 46.008-5.797 42.305 0 82.066 13.949 115 40.351l10.008-12.488c-35.285-28.29-79.68-43.863-125.008-43.863-16.918 0-33.742 2.117-49.992 6.293zm0 0M328.004 160.012h-160c-13.23 0-24 10.765-24 24v288c0 13.23 10.77 24 24 24h160c13.234 0 24-10.77 24-24v-288c0-13.235-10.766-24-24-24zm8 312c0 4.414-3.59 8-8 8h-160c-4.406 0-8-3.586-8-8v-288c0-4.418 3.594-8 8-8h160c4.41 0 8 3.582 8 8zm0 0"}),O=r.a.createElement("path",{d:"M312.004 192.012h-128c-4.414 0-8 3.574-8 8v224a8 8 0 0 0 8 8h128c4.418 0 8-3.578 8-8v-224c0-4.426-3.582-8-8-8zm-8 224h-112v-208h112zm0 0M232.004 448.012h32v16h-32zm0 0"}),E=r.a.createElement("path",{d:"M228.941 351.402a8.001 8.001 0 0 0 8.719-1.734l32-32a7.99 7.99 0 0 0 0-11.313l-32-32c-2.297-2.289-5.726-2.992-8.719-1.738a8.009 8.009 0 0 0-4.937 7.395v64c0 3.23 1.953 6.16 4.937 7.39zm11.063-52.078l12.687 12.688-12.687 12.687zm0 0M408.004 120.012V59.324l18.344 18.344 11.312-11.313-32-32a7.988 7.988 0 0 0-8.719-1.738 8.009 8.009 0 0 0-4.937 7.395V97.48c-2.512-.894-5.184-1.468-8-1.468-13.23 0-24 10.765-24 24 0 13.23 10.77 24 24 24 13.234 0 24-10.77 24-24zm-32 0c0-4.418 3.594-8 8-8 4.41 0 8 3.582 8 8 0 4.414-3.59 8-8 8-4.406 0-8-3.586-8-8zm0 0M152.004 88.012V27.324l18.344 18.344 11.312-11.313-32-32C147.363.06 143.934-.637 140.941.617a8.009 8.009 0 0 0-4.937 7.395V65.48c-2.512-.894-5.184-1.468-8-1.468-13.23 0-24 10.765-24 24 0 13.23 10.77 24 24 24 13.234 0 24-10.77 24-24zm-24 8c-4.406 0-8-3.586-8-8 0-4.418 3.594-8 8-8 4.41 0 8 3.582 8 8 0 4.414-3.59 8-8 8zm0 0"}),j=function(e){var t=e.svgRef,n=e.title,a=k(e,["svgRef","title"]);return r.a.createElement("svg",y({viewBox:"0 0 496 496.01",ref:t},a),n?r.a.createElement("title",null,n):null,w,g,O,E)},C=r.a.forwardRef((function(e,t){return r.a.createElement(j,y({svgRef:t},e))})),P=(n.p,n(14));function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _=r.a.createElement("path",{d:"M443.5 273.1c0 25.1-20.4 45.5-45.5 45.5H271.5V162.3c4.8-1.8 9.9-3.1 15.1-3.9 4.1-0.6 8.3-1 12.5-1 42.3 0 77 32.7 80.3 74.1 5.7-2.5 11.9-4 18.6-4C423.1 227.6 443.5 248 443.5 273.1zM224.2 193.2v125.4h15.1v-134.5c-3.4 3.7-6.4 7.8-9 12.1C228.4 195 226.3 194.1 224.2 193.2zM247.6 318.6h15.1v-152.4c-5.4 2.7-10.5 6.1-15.1 9.9V318.6zM151.8 208.9v109.7h15.1V196.9C161.3 200.2 156.2 204.2 151.8 208.9zM106.5 231.6v86.5c1.9 0.2 3.7 0.4 5.7 0.4h7.9v-86.6c-2.6-0.5-5.2-0.7-7.9-0.7C110.3 231.3 108.4 231.4 106.5 231.6zM86.5 310.2c3.4 2.5 7.2 4.5 11.3 5.9v-82.4c-4.1 1.4-7.9 3.4-11.3 5.9V310.2zM128.4 234.4v84.2h15.1v-98.7c-3.4 5.6-6 11.8-7.5 18.4C133.6 236.8 131.1 235.5 128.4 234.4zM175.9 318.6h15.1V188.8c-5.3 0.7-10.3 2-15.1 3.8V318.6zM200.1 318.6h15.1v-128.3c-4.8-1.2-9.9-1.9-15.1-1.9V318.6L200.1 318.6zM79.1 303.4v-56.9c-6.6 7.6-10.6 17.6-10.6 28.5C68.5 285.8 72.5 295.7 79.1 303.4z"}),N=function(e){var t=e.svgRef,n=e.title,a=x(e,["svgRef","title"]);return r.a.createElement("svg",S({viewBox:"0 0 512 512",ref:t},a),n?r.a.createElement("title",null,n):null,_)},R=r.a.forwardRef((function(e,t){return r.a.createElement(N,S({svgRef:t},e))}));n.p;function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var T=r.a.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"}),L=function(e){var t=e.svgRef,n=e.title,a=z(e,["svgRef","title"]);return r.a.createElement("svg",A({width:32,viewBox:"0 0 16 16",ref:t},a),n?r.a.createElement("title",null,n):null,T)},M=r.a.forwardRef((function(e,t){return r.a.createElement(L,A({svgRef:t},e))})),V=(n.p,n(25),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){requestAnimationFrame((function(){Object(o.a)(document.querySelector(".home").querySelectorAll(".hidden")).map((function(e){return e.classList.add("active")}))}))}},{key:"shouldComponentUpdate",value:function(e){return e.active!==this.props.active}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement("h1",{className:"title hidden"},"React Music Player"),r.a.createElement("p",{className:"subtitle hidden"},"made with SoundCloud API"),r.a.createElement(C,{className:"icon hidden",width:"100",fill:"#ccc"}),r.a.createElement(b.a,{className:"hidden",tabEnabled:this.props.active,name:"button show playlist",active:!0,onClick:this.props.onStartClick,icon:r.a.createElement(P.a,{width:24})}),r.a.createElement("footer",{className:"footer"},r.a.createElement("a",{href:"https://github.com/iondrimba/pwa-music-player","aria-label":"Github repository",tabIndex:this.props.active?"0":"-1",target:"_blank",rel:"noopener noreferrer",className:"github project"}," ",r.a.createElement(M,{fill:"#b9b9b9"})),r.a.createElement("a",{href:"https://developers.soundcloud.com/docs/api",tabIndex:this.props.active?"0":"-1",target:"_blank",rel:"noopener noreferrer",className:"soundcloud"},"powered by ",r.a.createElement(R,{"aria-label":"Soundcloud",fill:"#b9b9b9",width:64}))))}}]),t}(a.Component)),I=function(e,t){return e/t*100};function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var B=r.a.createElement("path",{d:"M231.2 336.033c-9.35 0-17 7.65-17 17v11.333c0 9.35 7.65 17 17 17s17-7.65 17-17v-11.333c0-9.35-7.65-17-17-17z"}),H=r.a.createElement("path",{d:"M163.2 194.367c.283 0 .283 0 0 0 9.35 0 17-7.083 17-16.433 0 0 .283-13.6 7.083-26.917 8.5-17 23.517-25.5 45.617-25.5 20.683 0 35.983 5.667 44.483 16.717 7.083 9.067 9.067 21.533 5.667 35.133-4.25 16.717-18.7 31.167-32.583 45.333-17 17.567-34.85 35.417-34.85 59.5 0 9.35 7.65 17 17 17s17-7.65 17-17c0-10.2 12.183-22.667 25.217-35.7 16.15-16.433 34.567-35.133 41.083-60.633 6.233-23.517 1.983-47.033-11.617-64.317-10.483-13.6-31.45-30.033-71.117-30.033-44.483 0-65.733 23.8-75.933 44.2-10.2 20.4-10.767 39.95-10.767 42.217 0 9.066 7.367 16.433 16.717 16.433z"}),q=function(e){var t=e.svgRef,n=e.title,a=D(e,["svgRef","title"]);return r.a.createElement("svg",U({viewBox:"0 0 473.733 473.733",ref:t},a),n?r.a.createElement("title",null,n):null,B,H)},F=r.a.forwardRef((function(e,t){return r.a.createElement(q,U({svgRef:t},e))}));n.p;function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var J=r.a.createElement("path",{d:"M88.6 121.3c.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2c1.6-1.6 1.6-4.2 0-5.8l-51-51 51-51c1.6-1.6 1.6-4.2 0-5.8s-4.2-1.6-5.8 0l-54 53.9c-1.6 1.6-1.6 4.2 0 5.8l54 53.9z"}),Q=function(e){var t=e.svgRef,n=e.title,a=G(e,["svgRef","title"]);return r.a.createElement("svg",W({viewBox:"0 0 129 129",ref:t},a),n?r.a.createElement("title",null,n):null,J)},$=r.a.forwardRef((function(e,t){return r.a.createElement(Q,W({svgRef:t},e))}));n.p;function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Y=r.a.createElement("path",{d:"M28.228 23.986L47.092 5.122a2.998 2.998 0 0 0 0-4.242 2.998 2.998 0 0 0-4.242 0L23.986 19.744 5.121.88a2.998 2.998 0 0 0-4.242 0 2.998 2.998 0 0 0 0 4.242l18.865 18.864L.879 42.85a2.998 2.998 0 1 0 4.242 4.241l18.865-18.864L42.85 47.091c.586.586 1.354.879 2.121.879s1.535-.293 2.121-.879a2.998 2.998 0 0 0 0-4.242L28.228 23.986z"}),Z=function(e){var t=e.svgRef,n=e.title,a=X(e,["svgRef","title"]);return r.a.createElement("svg",K({viewBox:"0 0 47.971 47.971",ref:t},a),n?r.a.createElement("title",null,n):null,Y)},ee=r.a.forwardRef((function(e,t){return r.a.createElement(Z,K({svgRef:t},e))})),te=(n.p,function(e,t){e.classList.add(t)}),ne=n(10),ae=n(9),re=(n(27),function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(d.a)(t).call(this))).title=r.a.createRef(),e.menu=r.a.createRef(),e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"_activeHiddenElements",value:function(){Object(o.a)(this.menu.current.querySelectorAll(".hidden")).map((function(e){return te(e,"active")}))}},{key:"_animateTitle",value:function(){var e,t,n=this;e=this.title.current,t="active",e.classList.remove(t),requestAnimationFrame((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(Object(ne.a)(100));case 2:te(n.title.current,"active");case 3:case"end":return e.stop()}}))}))}},{key:"componentDidMount",value:function(){var e=this;requestAnimationFrame((function(){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(Object(ne.a)(1200));case 2:e._activeHiddenElements();case 3:case"end":return t.stop()}}))}))}},{key:"componentDidUpdate",value:function(e){e.activeView!==this.props.activeView&&this._animateTitle()}},{key:"render",value:function(){return r.a.createElement("nav",{ref:this.menu,className:"menu menu--".concat(this.props.activeView)},r.a.createElement(ae.a,{label:"navigate back",tabEnabled:!0,className:"hidden icon-button icon-button--back",onClick:this.props.onBackClick,icon:r.a.createElement($,{className:"icon icon--back",width:16})}),r.a.createElement("h1",{ref:this.title,className:"hidden menu__title"},"list"===this.props.activeView?"Queue":"Now playing"),r.a.createElement(ae.a,{label:"about the app",tabEnabled:!0,className:"hidden icon-button icon-button--help",onClick:this.props.onAboutClick,icon:r.a.createElement(F,{className:"icon icon--help",width:27})}),r.a.createElement(ae.a,{label:"close about",tabEnabled:!0,className:"icon-button icon-button--close",onClick:this.props.onCloseClick,icon:r.a.createElement(ee,{className:"icon icon--close",width:12})}))}}]),t}(a.PureComponent)),ie=(n(28),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{"aria-hidden":!this.props.active,className:"".concat(this.props.className," page ").concat(this.props.active?"active":"unactive")},r.a.cloneElement(this.props.children,{active:this.props.active}))}}]),t}(a.PureComponent)),ce=(n(29),function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(d.a)(t).call(this))).loader=r.a.createRef(),e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"_addActiveClass",value:function(){this.loader.current.classList.add("animate")}},{key:"componentDidMount",value:function(){var e=setTimeout(this._addActiveClass,100);clearTimeout(e)}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.loader,className:"loader","aria-label":"loading.."})}}]),t}(a.PureComponent)),oe=function(){function e(t,n){Object(p.a)(this,e),this.element=t,this.context=n,this.repeatPlayback=!1,this._ended=this._ended.bind(this),this.stopHandler=function(){}}return Object(h.a)(e,[{key:"_createAnalyser",value:function(){this.analyser=this.context.createAnalyser()}},{key:"_createMediaElementSource",value:function(){this.source=this.context.createMediaElementSource(this.element),this.source.connect(this.analyser),this.analyser.connect(this.context.destination)}},{key:"_ended",value:function(){this.repeatPlayback?this.play():this.stopHandler()}},{key:"_canplay",value:function(){this.canplayCallback()}},{key:"canplay",value:function(e){this.canplayCallback=e}},{key:"setup",value:function(){this._createAnalyser(),this._createMediaElementSource(),this.element.addEventListener("canplay",this._canplay.bind(this)),this.element.addEventListener("ended",this._ended)}},{key:"setTimerHandler",value:function(e){this.element.addEventListener("timeupdate",e)}},{key:"setStopHandler",value:function(e){this.stopHandler=e}},{key:"setVolume",value:function(e){this.element.volume=e}},{key:"setAudioSource",value:function(e){this.element.src=e}},{key:"resume",value:function(){this.context.resume()}},{key:"play",value:function(){this.element.play()}},{key:"pause",value:function(){this.element.pause()}},{key:"repeat",value:function(e){this.repeatPlayback=e}}]),e}(),le=n(15),se=(n(30),Object(a.lazy)((function(){return n.e(4).then(n.bind(null,44))}))),ue=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,42))})),pe=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,43))})),he=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).onStartClick=function(){n.changeView("list")},n.fetchPlayList=function(){var e,t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(fetch(n.playlistUrl));case 2:return e=a.sent,a.next=5,u.a.awrap(e.json());case 5:t=a.sent,n.updateSate(t);case 7:case"end":return a.stop()}}))},n.selectTrack=function(e){return n.state.tracks.filter((function(t){return Number(e)===t.id}))[0]},n.timeupdate=function(e){n.setState({track:Object(l.a)({},n.state.track,{currentTime:e.target.currentTime,percentage:I(e.target.currentTime,e.target.duration)/100})})},n.onListClick=function(e){e!==n.state.track.id&&n.audio.setAudioSource("");var t=Object(l.a)({},n.selectTrack(e),{currentTime:0,percentage:0,playing:n.state.track.id===e&&n.state.track.playing,played:n.state.track.id===e&&n.state.track.played,paused:n.state.track.id!==e||n.state.track.paused});n.setState((function(){return{track:t}})),n.changeView("detail"),n.onPlayClick(t)},n.onPlayClick=function(e){e.played||n.audio.setAudioSource("".concat(e.stream_url,"?client_id=").concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SOUNDCLOUD_APP_CLIENT_ID)),n.setState((function(){return{track:Object(l.a)({},e,{paused:!1,playing:!0,played:!0})}})),n.audio.resume(),n.audio.play()},n.onPauseClick=function(e){n.audio.pause(),n.setState((function(){return{track:Object(l.a)({},e,{paused:!0,playing:!1})}}))},n.onBackClick=function(){n.history.go(-1),n.setState((function(){return{currentView:n.history.location.state.view||"/"}}))},n.onAboutClick=function(){n.changeView("about")},n.onPlayNext=function(){n.changeTrack(n.getNextTrack())},n.onPlayPrev=function(){n.changeTrack(n.getPreviousTrack())},n.onRepeatClick=function(){var e=!n.state.repeat;n.setState((function(){return{repeat:e}})),n.audio.repeat(e)},n.playlistUrl="https://api.soundcloud.com/users/".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SOUNDCLOUD_USER_ID,"/playlists?client_id=").concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SOUNDCLOUD_APP_CLIENT_ID),n.state=Object(l.a)({},le.b),n.history=Object(m.a)(),n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.history.listen((function(t){e.setState((function(){return{currentView:e.history.location.state.view||"/"}})),"list"!==t.state.view||e.state.tracks[0].id||e.fetchPlayList()})),this.setupAudio(),this.history.push("/",{view:"home"})}},{key:"updateSate",value:function(e){var t=this,n={tracks:Object(o.a)(e[0].tracks.map((function(e,n){return Object.assign({},Object(l.a)({},t.state.track,{id:e.id,stream_url:e.stream_url,uri:e.uri,duration:e.duration,favoritings_count:e.favoritings_count,artist:e.user.username,artwork_url:e.artwork_url?e.artwork_url.replace("large","t50x50"):"",title:e.title.toLowerCase(),permalink_url:e.permalink_url,index:n}))}))),playlistLoaded:!0};this.setState((function(){return n}))}},{key:"changeView",value:function(e){this.history.push("/".concat(e),{view:e})}},{key:"setTrack",value:function(e){this.setState((function(){return{track:e,currentTime:0,paused:!0,played:!1,playing:!1,changingTrack:!0}}))}},{key:"canChangeTrack",value:function(){return!1===this.state.changingTrack}},{key:"getNextTrack",value:function(){var e=this.state.tracks[this.state.track.index+1];return e?Object(l.a)({},e):null}},{key:"getPreviousTrack",value:function(){var e=this.state.tracks[this.state.track.index-1];return e?Object(l.a)({},e):null}},{key:"changeTrack",value:function(e){this.canChangeTrack()&&e&&(this.setTrack(e),this.onPlayClick(e))}},{key:"setupAudio",value:function(){var e=this;this.timeupdate=this.timeupdate.bind(this),this.audioStop=this.audioStop.bind(this),this.audio=new oe(document.querySelector("#audio"),this.props.audioContext),this.audio.setup(),this.audio.setTimerHandler(this.timeupdate),this.audio.setStopHandler(this.audioStop),this.audio.canplay((function(){e.setState((function(){return{changingTrack:!1}}))}))}},{key:"audioStop",value:function(){this.setState({track:Object(l.a)({},this.state.track,{currentTime:0,percentage:0,playing:!1,played:!1,paused:!0})})}},{key:"render",value:function(){return r.a.createElement("main",{className:"app"},r.a.createElement("audio",{id:"audio",crossOrigin:"anonymous"}),r.a.createElement("div",{className:"shell"},r.a.createElement(re,{history:this.history,activeView:this.state.currentView,onBackClick:this.onBackClick,onAboutClick:this.onAboutClick,onCloseClick:this.onBackClick}),r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(ie,{className:"home",active:"home"===this.state.currentView},r.a.createElement(V,{onStartClick:this.onStartClick})),r.a.createElement(a.Suspense,{fallback:r.a.createElement(ce,null)},r.a.createElement(ie,{className:"list",active:"list"===this.state.currentView},r.a.createElement(se,{track:this.state.track,tracks:this.state.tracks,onClick:this.onListClick})),r.a.createElement(ie,{className:"detail",active:"detail"===this.state.currentView},r.a.createElement(pe,{track:this.state.track,repeat:this.state.repeat,onRepeatClick:this.onRepeatClick,onPlayClick:this.onPlayClick,onPlayNext:this.onPlayNext,onPlayPrev:this.onPlayPrev,onPauseClick:this.onPauseClick})),r.a.createElement(ie,{className:"about",active:"about"===this.state.currentView},r.a.createElement(ue,null))))))}}]),t}(a.PureComponent),fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function de(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(window.audioContext=new window.AudioContext),c.a.render(r.a.createElement(he,{audioContext:window.audioContext}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");fe?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):de(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):de(t,e)}))}}()}],[[18,1,2]]]);
//# sourceMappingURL=main.4022f284.chunk.js.map